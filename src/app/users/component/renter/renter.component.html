<div *ngIf="!loading" class="pt-5 ">
  <div class="container  mt-3 p-5 search d-flex justify-content-center align-items-center ">
    <div class="row  w-75 justify-content-center m-auto   align-items-center">
      <div class="col d-flex justify-content-center align-items-center  bg-white ">
        <mat-form-field appearance="fill" class="mt-3 ">
          <mat-label>الموقع</mat-label>
          <mat-select [disableOptionCentering]="true" id="eman" (selectionChange)="getFilterLocation($event)">
            <mat-option value="all">الكل</mat-option>
            <mat-option *ngFor="let location of allLocations" [value]="location.id">
              {{location.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col d-flex justify-content-center align-items-center  bg-white ">
        <mat-form-field appearance="fill" class="mt-3">
          <mat-label>النوع</mat-label>
          <mat-select [disableOptionCentering]="true" (selectionChange)="getFilterType($event)">
            <mat-option value="all">الكل </mat-option>
            <mat-option value="apartment">شقه</mat-option>
            <mat-option value="room">غرفه</mat-option>
            <mat-option value="studio">استوديو</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col d-flex justify-content-center align-items-center   bg-white ">
        <mat-form-field appearance="fill" class="mt-3">
          <mat-label>عدد الغرف</mat-label>
          <mat-select [disableOptionCentering]="true" id="ddlFruits" (selectionChange)="getFilterBeds($event)">
            <mat-option value="all">الكل</mat-option>
            <mat-option value="1">1</mat-option>
            <mat-option value="2">2</mat-option>
            <mat-option value="3">3</mat-option>
            <mat-option value="4">4</mat-option>
            <mat-option value="5">5</mat-option>
            <mat-option value="6">6</mat-option>





          </mat-select>
        </mat-form-field>
      </div>
    </div>


  </div>

  <div class="line  mt-5 m-auto ">
  </div>
  <h2 class="text-center mt-3">الاعلانات </h2>

  <div class="album pt-5 ">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3 g-3">

        <div class="col "
          *ngFor="let advertisment of advertisment | paginate: { itemsPerPage: 9,totalItems:totalNumber, currentPage: page }">


          <div class="card shadow-sm m-3" >
            <div class="photo">
              <img [src]="advertisment.advertisement_image[0].image_name" height="200px" width="100%"
                alt="{{advertisment.advertisement_image[0].image_name}}">

              <h5 class="favorite " mat-icon-button (click)="toggleSelected()">

                <mat-icon class="selected" *ngIf="selected" aria-label="Example icon-button with a heart icon">
                  favorite
                </mat-icon>

                <mat-icon class="notselected" *ngIf="!selected" aria-label="Example icon-button with a heart icon">
                  favorite_border
                </mat-icon>

              </h5>
            </div>

            <div class="card-body bg-light " routerLink="/details/{{advertisment.id}}">
              <div class="container">
                <div class="row ">

                  <div class="col px-3 py-2">
                    <div class="d-flex flex-row justify-content-between">

                      <p class="mb-2 text-muted">{{advertisment .type}}</p>
                      <div class="d-flex flex-row" *ngIf="advertisment .ratings_count>0">

                        <mat-icon style="font-size:large;">star</mat-icon>
                        <p>{{advertisment .ratings_avg_count}}</p>
                        <p>({{advertisment .ratings_count}})</p>
                      </div>

                    </div>
                    <h3 class="mb-0 title">{{advertisment .title}}</h3>
                    <h3 class="mb-0 price">{{advertisment .price}}جنيه</h3>
                    <div class="d-flex justify-content-between align-items-center ">
                      <small class="text-muted"> <span class="material-icons   ">location_on</span>
                        {{advertisment.address}}</small>
                    </div>
                    <!-- <div class=" mt-2">
                    <button type="button" class="btn mx-1 btn-sm btn-outline-warning">تعديل</button>
                  </div> -->
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>
      </div>

    </div>
    <pagination-controls previousLabel="السابق" nextLabel="التالي" class="text-center" (pageChange)="page = $event"
      *ngIf="totalNumber>9"></pagination-controls>

  </div>

  <app-footer> </app-footer>
</div>
<div class="justify-content-center align-items-center" *ngIf="loading">
  <mat-spinner class="text-center w-50  mt-5 pt-5 " style="top: 30px;"></mat-spinner>

</div>