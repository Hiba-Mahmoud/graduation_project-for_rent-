<!-- <ngx-spinner type="ball-scale-multiple"></ngx-spinner> -->

<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "ball-scale-multiple" [fullScreen] = "true"><p style="color: white" >   جار إضافة الاعلان ... </p></ngx-spinner>
<div class="apply-page-header container">
  <section class="apply-page-header-title">
    <div class="apply-page-header-title-container container">
      <h2>شارك إعلانك معنا</h2>
      <p></p>
    </div>
  </section>
</div>

<div class="container mt-5">
  <div class="alert alert-danger text-center" *ngIf="isvalid">برجاء ملئ البيانات اولا</div>

  <form dir="rtl" class="w-100" [formGroup]="addproperity" >
    <div class="mb-3">
      <label for="title"  class="form-label">اسم الاعلان</label>
      <input
      formControlName="title"
        type="text"
        class="form-control"
        name="title"
        id="title"
        aria-describedby="passwordHelp"
      />
      <div
          class="alert alert-danger"
            role="alert"
            *ngIf="
            addproperity.controls['title'].errors &&
            addproperity.controls['title'].touched">
            <strong
              *ngIf="addproperity.controls['title'].errors['required']"
              >برجاء ادخال عنوان مناسب</strong>

            <strong
              *ngIf="addproperity.controls['title'].errors['minlength']"
              >     برجاء ادخال عنوان مناسب </strong>

            <strong
              *ngIf="addproperity.controls['title'].errors['maxlength']"
              >برجاء ادخال عنوان مناسب</strong
            >
            <strong
              *ngIf="addproperity.controls['title'].errors['pattern']"
              >الاسم الاول يجب ان يكون عربى</strong
            >
          </div>
          <div class="alert alert-danger" *ngIf="titleError">{{titleError}}</div>
    </div>



    <div class="mb-3">
      <label for="description">الوصف</label>
      <textarea
      formControlName="description"
        class="form-control"
        name="description"
        id="description"
        rows="3"
      ></textarea>
      <div
          class="alert alert-danger"
            role="alert"
            *ngIf="
            addproperity.controls['description'].errors &&
            addproperity.controls['description'].touched">
            <strong
              *ngIf="addproperity.controls['description'].errors['required']"
              >برجاء ادخال وصف مناسب</strong>

            <strong
              *ngIf="addproperity.controls['description'].errors['minlength']"
              >الوصف لا يقل عن ثلاثين حرفا</strong>

            <strong
              *ngIf="addproperity.controls['description'].errors['maxlength']"
              >الوصف لا يزيد عن الف حرفا</strong
            >
            <strong
              *ngIf="addproperity.controls['description'].errors['pattern']"
              ></strong
            >
          </div>
    </div>

    <div class="row mb-3">
      <div class="col-sm-12 col-md-4">
        <label for="price" class="form-label">السعر</label>
        <input type="number" name="price"  formControlName="price"  class="form-control" id="price" />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['price'].errors &&
          addproperity.controls['price'].touched">
          <strong
            *ngIf="addproperity.controls['price'].errors['required']"
            >برجاء ادخال السعر </strong>
          <strong
            *ngIf="addproperity.controls['price'].errors['pattern']"
            >السعر ارقام فقط</strong
          >
        </div>
      </div>
      <div class="col-sm-12 col-md-4">
        <label for="bathroomnum" class="form-label">المساحة </label>
        <input
        formControlName="area"
          type="number"
          name="area"
          class="form-control"
          id="bathroom-num"
        />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['area'].errors &&
          addproperity.controls['area'].touched">
          <strong
            *ngIf="addproperity.controls['area'].errors['required']"
            >برجاء ادخال المساحة </strong>
          <strong
            *ngIf="addproperity.controls['area'].errors['pattern']"
            >المساحة ارقام فقط</strong
          >
        </div>
      </div>
      <div class="col-sm-12 col-md-4">
        <label for="level" class="form-label">الطابق</label>
        <input type="number" formControlName="level" name="level" class="form-control" id="level" />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['level'].errors &&
          addproperity.controls['level'].touched">
          <strong
            *ngIf="addproperity.controls['level'].errors['required']"
            >برجاء ادخال رقم الطابق</strong>
          <strong
            *ngIf="addproperity.controls['level'].errors['pattern']"
            >رقم الطابق ارقام فقط</strong
          >
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-sm-12 col-md-4">
        <label for="bedroom-num" class="form-label">عدد الغرف</label>
        <input
        formControlName="bedroomnum"
          type="number"
          name="bedroomnum"
          class="form-control"
          id="bedroom-num"
        />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['bedroomnum'].errors &&
          addproperity.controls['bedroomnum'].touched">
          <strong
            *ngIf="addproperity.controls['bedroomnum'].errors['required']"
            >برجاء ادخال عدد الغرف </strong>
          <strong
            *ngIf="addproperity.controls['bedroomnum'].errors['pattern']"
            >عدد الغرف ارقام فقط</strong
          >
        </div>
      </div>
      <div class="col-sm-12 col-md-4">
        <label for="bathroomnum" class="form-label">عدد الحمامات</label>
        <input
        formControlName="bathroomnum"
          type="number"
          name="bathroomnum"
          class="form-control"
          id="bathroom-num"
        />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['bathroomnum'].errors &&
          addproperity.controls['bathroomnum'].touched">
          <strong
            *ngIf="addproperity.controls['bathroomnum'].errors['required']"
            >برجاء ادخال عدد الحمامات </strong>
          <strong
            *ngIf="addproperity.controls['bathroomnum'].errors['pattern']"
            > عدد الحمامات ارقام فقط</strong
          >
        </div>
      </div>



      <div class="col-sm-12 col-md-4">
        <label for="bedsnum" class="form-label">عدد السرائر</label>
        <input type="number" formControlName="bedsnum" name="bedsnum" class="beds-num" id="beds-num" />
        <div
        class="alert alert-danger"
          role="alert"
          *ngIf="
          addproperity.controls['bedsnum'].errors &&
          addproperity.controls['bedsnum'].touched">
          <strong
            *ngIf="addproperity.controls['bedsnum'].errors['required']"
            >برجاء ادخال عدد السرائر </strong>
          <strong
            *ngIf="addproperity.controls['bedsnum'].errors['pattern']"
            >عدد السرائر ارقام فقط</strong
          >
        </div>
      </div>
    </div>





    <div class="row mb-3">



    </div>

    <div class="row mt-3 mb-3">

            <div class="form-outline mb-4 col-ms-12 col-md-6">
              <label class="form-label" for="gender" id="gender">مفروش</label>
              <select
                formControlName="furniture"
                class="select w-100 form-control"
                style="margin-left: 80px; padding-right: 95px"
              >
              <option disabled selected value>مفروش</option>
                <option value="yes">نعم</option>
                <option value="no">لا</option>
              </select>
              <div
                *ngIf="
                addproperity.controls['furniture'].errors&&addproperity.controls['furniture'].touched
                  "
              >
                <small
                class="form-text text-dark"
                *ngIf="
                addproperity.controls['furniture'].errors &&
                addproperity.controls['furniture'].errors['required']
                "
                >
                الحقل مطلوب</small
                >
              </div>
            </div>



            <div class="form-outline mb-4 col-ms-12 col-md-6">
              <label class="form-label" for="gender" id="gender">النوع</label>
              <select
                formControlName="type"
                class="select w-100 form-control"
                style="margin-left: 80px; padding-right: 95px"
              >
              <option disabled selected value>النوع</option>
                <option value="apartment">شقة </option>
                <option value="studio">استديو</option>
                <option value="room">غرفة</option>
              </select>
              <div
                *ngIf="
                addproperity.controls['type'].errors&&addproperity.controls['type'].touched
                  "
              >
                <small
                class="form-text text-dark"
                *ngIf="
                addproperity.controls['type'].errors &&
                addproperity.controls['type'].errors['required']
                "
                >
                الحقل مطلوب</small
                >
              </div>
            </div>
          </div>


    <div class="row mb-3">
      <div class="col-sm-12 col-md-4 mt-2">

          <label class="form-label" for="gender" id="gender">المحافظة</label>
          <select
            formControlName="governate"
            class="select p-2 form-control"
            style="margin-left: 80px; padding-right: 95px"
          >
          <option disabled selected value>المحافظة</option>
            <option *ngFor="let city of cities" value="{{city.id}}">{{city.name}}</option>
          </select>
          <div
            *ngIf="
            addproperity.controls['governate'].errors&&
            addproperity.controls['governate'].touched
              "
          >
            <small
            class="form-text text-dark"
            *ngIf="
            addproperity.controls['governate'].errors &&
            addproperity.controls['governate'].errors['required']
            "
            >

            الحقل مطلوب</small
            >
          </div>

      </div>
      <div class="col-sm-12 col-md-8">
        <label for="address" class="form-label">العنوان بالتفصيل</label>
        <input type="text" name="address"  formControlName="address" class="form-control" id="address"  />
        <div
          class="alert alert-danger"
            role="alert"
            *ngIf="
            addproperity.controls['address'].errors &&
            addproperity.controls['address'].touched">
            <strong
              *ngIf="addproperity.controls['address'].errors['required']"
              >برجاء ادخال عنوان مناسب</strong>

            <strong
              *ngIf="addproperity.controls['address'].errors['minlength']"
              >الاسم الاول يجب الا يقل عن حرفان</strong>

            <strong
              *ngIf="addproperity.controls['address'].errors['maxlength']"
              >الاسم الاول يجب الا يزيد عن عشرة احرف</strong
            >
            <strong
              *ngIf="addproperity.controls['address'].errors['pattern']"
              >الاسم الاول يجب ان يكون عربى</strong
            >
          </div>


      </div>

    </div>
    <div class="row" >
      <div class="col-sm-12 mb-2 col-md-3" *ngFor="let url of imageUrl">
        <img [src]="url" alt="" style="width:100%;height: 150px;">

      </div>
    </div>

    <div class="form-group">
      <label for="file">الصور</label>
      <input
      accept="image/png, image/gif, image/jpeg"
          id="file"
          type="file"
          class="form-control"
          formControlName ='file'
          multiple="multiple"
          (change)="onFileChange($event)">
          <div
          class="alert alert-danger"
            role="alert"
            *ngIf="
            addproperity.controls['file'].errors &&
            addproperity.controls['file'].touched">
            <strong
              *ngIf="addproperity.controls['file'].errors['required']"
              >برجاء ادخال  صور مناسب</strong>
          </div>
          <div class="text-danger">{{imgError}}</div>
          <!-- <div *ngIf="showImage else error">
            فقط 10 صور
          </div>
          <ng-template #error>
            فقط 10 صور

          </ng-template> -->
  </div>





    <div class="text-center mt-5">

      <input class="send" type="submit" value="submit" (click)="onsubmit()"/>
    </div>


  </form>
</div>
